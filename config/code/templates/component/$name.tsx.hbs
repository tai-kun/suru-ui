import * as React from "react"
import clsx from "../../utils/clsx"
import forwardRef, { type HTMLPropsWithRef } from "../../utils/forwardRef"
import Slot from "../../utils/Slot"
import "suru-ui__group__{{ name }}.css"

/* -----------------------------------------------------------------------------
 * Root
 * ---------------------------------------------------------------------------*/

export interface RootProps {
  /**
   * 子要素を独自のコンポーネントとしてレンダリングするかどうか。
   *
   * @default false
   */
  asChild?: boolean | undefined
}

export const Root = forwardRef(function Root(
  props: HTMLPropsWithRef<"div", RootProps>,
) {
  const {
    asChild = false,
    className,
    "data-scope": scope,
    ...other
  } = props
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      {...other}
      className={clsx(className, "Sui{{ name }}", {})}
      data-scope={clsx.lite(scope, "Sui{{ name }}")}
    />
  )
})

/* -----------------------------------------------------------------------------
 * Test
 * ---------------------------------------------------------------------------*/

if (cfgTest && cfgTest.url === import.meta.url) {
  // const { render } = await import("../../utils-dev/react")
  const { describe, test } = cfgTest

  describe("src__dirname__{{ name }}/{{ name }}", () => {
    test.todo("テストを書く")
  })
}
